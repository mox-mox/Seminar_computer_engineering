\usepackage{tikz}
\usetikzlibrary{arrows, decorations.markings}
\usetikzlibrary{positioning,shapes,shadows,calc,positioning}
\usetikzlibrary{decorations.pathreplacing,angles,quotes}
\usetikzlibrary{decorations.pathmorphing}
%\usetikzlibrary{fit}


% This part taken from http://www.texample.net/tikz/examples/double-arrows/
% Double Arrows a la Chef
% Author: Dominik Haumann

% for double arrows a la chef
% adapt line thickness and line width, if needed
%\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
%   1 with {\arrow[semithick]{open triangle 60}}},
%   double distance=1.4pt, shorten >= 5.5pt,
%   preaction = {decorate},
%   postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
%\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]


%\tikzstyle{mynode} = [rectangle,rounded corners,draw=black,top color=white, bottom color=white!50,very thick, inner sep=1em, minimum size=3em, text centered]
%\tikzstyle{invnode} = [inner sep=0,minimum size=0]
%
%\tikzstyle{abstract}=[rectangle, draw=black, rounded corners, fill=blue!40, drop shadow, text centered, anchor=north, text=white, text width=3cm]
%\tikzstyle{comment}=[rectangle, draw=black, rounded corners, fill=green, drop shadow, text centered, anchor=north, text=white, text width=3cm]
%\tikzstyle{myarrow}=[->, >=open triangle 90, thick]
%\tikzstyle{line}=[-, thick]


\tikzset{font={\fontsize{8pt}{7}\selectfont}}
\tikzset{every picture/.append style={scale=0.1}}


\usepackage{etex} %% Cool Stuff, see http://tex.stackexchange.com/a/36721/69074 : \foreach \i in {0,...,\number\numexpr\memBlocks-1\relax}
\newcommand{\CC}{C\nolinebreak\hspace{-.05em}\raisebox{.4ex}{\tiny\bf +}\nolinebreak\hspace{-.03em}\raisebox{.4ex}{\tiny\bf +}}




%{{{ Extract Coordinates

% http://tex.stackexchange.com/a/179946/69074
\makeatletter
\def\extractcoord#1#2#3{%
  \path let \p1=(#3) in \pgfextra{%
    \pgfmathsetmacro#1{\x{1}/\pgf@xx}%
    \pgfmathsetmacro#2{\y{1}/\pgf@yy}%
    \xdef#1{#1} \xdef#2{#2}%
  };%
}%
\makeatother

\newcommand*{\LabelCoord}[4]{\fill [#1] ($(#2,#3)$) circle (2pt) node [right] {#4}}%
%}}}


% For image1
\newif\iffourway




